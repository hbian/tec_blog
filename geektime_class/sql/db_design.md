## 范式设计
设计关系型数据库模型的时候，需要对关系内部各个属性之间联系的合理化程度进行定义，这就有了不同等级的规范要求，这些规范要求被称为范式（NF）。你可以把范式理解为，一张数据表的设计结构需要满足的某种设计标准的级别。

数据库的范式设计越高阶，冗余度就越低，同时高阶的范式一定符合低阶范式的要求，比如满足 2NF 的一定满足 1NF，满足 3NF 的一定满足 2NF，依次类推。

范式的定义会使用到主键和候选键（因为主键和候选键可以唯一标识元组），数据库中的键（Key）由一个或者多个属性组成。数据表中常用的几种键和属性的定义：
* 超键：能唯一标识元组的属性集叫做超键。
* 候选键：如果超键不包括多余的属性，那么这个超键就是候选键。
* 主键：用户可以从候选键中选择一个作为主键。
* 外键：如果数据表 R1 中的某属性集不是 R1 的主键，而是另一个数据表 R2 的主键，那么这个属性集就是数据表 R1 的外键。
* 主属性：包含在任一候选键中的属性称为主属性。
* 非主属性：与主属性相对，指的是不包含在任何一个候选键中的属性。

以 NBA 的球员表（player）和球队表（team）为例。这里我可以把球员表定义为包含球员编号、姓名、身份证号、年龄和球队编号；球队表包含球队编号、主教练和球队所在地。对于球员表来说，超键就是包括球员编号或者身份证号的任意组合，比如（球员编号）（球员编号，姓名）（身份证号，年龄）等。候选键就是最小的超键，对于球员表来说，候选键就是（球员编号）或者（身份证号）。主键是我们自己选定，也就是从候选键中选择一个，比如（球员编号）。外键就是球员表中的球队编号。在 player 表中，主属性是（球员编号）（身份证号），其他的属性（姓名）（年龄）（球队编号）都是非主属性。


* 1NF指的是数据库表中的任何属性都是原子性的，不可再分。这很好理解，我们在设计某个字段的时候，对于字段 X 来说，就不能把字段 X 拆分成字段 X-1 和字段 X-2。事实上，任何的 DBMS 都会满足第一范式的要求，不会将字段进行拆分。
* 2NF指的数据表里的非主属性都要和这个数据表的候选键有完全依赖关系。所谓完全依赖不同于部分依赖，也就是不能仅依赖候选键的一部分属性，而必须依赖全部属性。
* 3NF在满足2NF的同时，对任何非主属性都不传递依赖于候选键。也就是说不能存在非主属性A 依赖于非主属性 B，非主属性 B 依赖于候选键的情况。
* 1NF 需要保证表中每个属性都保持原子性；2NF需要保证表中的非主属性与候选键完全依赖；3NF 需要保证表中的非主属性与候选键不存在传递依赖。
* BCNF，也叫做巴斯-科德范式，它在3NF的基础上消除了主属性对候选键的部分依赖或者传递依赖关系。根据 BCNF 的要求，我们需